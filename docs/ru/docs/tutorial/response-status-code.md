# Код состояния ответа

Так же, как вы можете задать модель ответа, вы можете указать HTTP код состояния, используемый для ответа, с помощью параметра `status_code` в любой из *операций пути*:

* `@app.get()`
* `@app.post()`
* `@app.put()`
* `@app.delete()`
* и т.д.

{* ../../docs_src/response_status_code/tutorial001.py hl[6] *}

/// note | Примечание

Обратите внимание, что `status_code` является параметром метода "декоратора" (`get`, `post` и т.д.), а не вашей *функции обработки пути*, как остальные параметры и тело.

///

Параметр `status_code` принимает число, обозначающее HTTP код состояния.

/// info | Информация

`status_code` может также принимать `IntEnum`, такой как <a href="https://docs.python.org/3/library/http.html#http.HTTPStatus" class="external-link" target="_blank">`http.HTTPStatus`</a> в Python.

///

Это позволит:

* Возвращать указанный код состояния в ответе.
* Документировать его в OpenAPI схеме (и, соответственно, в пользовательских интерфейсах):

<img src="/img/tutorial/response-status-code/image01.png">

/// note | Примечание

Некоторые коды состояния ответа (см. следующий раздел) указывают на то, что тело ответа отсутствует.

FastAPI об этом знает и создаст документацию OpenAPI, в которой будет указано, что тела ответа нет.

///

## О HTTP кодах состояния

/// note | Примечание

Если вы уже знаете, что такое HTTP коды состояния, пропустите этот раздел.

///

В HTTP вы отправляете числовой код состояния из 3 цифр как часть ответа.

У этих кодов состояния есть название для их распознавания, но важной частью является число.

Вкратце:

* `100 - 199` предназначены для "Информации". Вы редко используете их напрямую. Ответы с этими кодами состояния не могут иметь тело.
* **`200 - 299`** предназначены для "Успешных" ответов. Это те, которые вы будете использовать чаще всего.
    * `200` — код состояния по умолчанию, означающий, что все прошло "ОК".
    * Другой пример — `201`, "Создано". Он обычно используется после создания новой записи в базе данных.
    * Особый случай — `204`, "Нет содержимого". Этот ответ используется, когда нет содержимого для возврата клиенту, и поэтому ответ не должен иметь тела.
* **`300 - 399`** предназначены для "Перенаправления". Ответы с этими кодами состояния могут иметь или не иметь тело, за исключением `304`, "Не изменено", который не должен иметь тела.
* **`400 - 499`** предназначены для "Ошибки клиента". Это второй по распространенности тип использования.
    * Пример — `404`, для ответа "Не найдено".
    * Для общих ошибок клиента можно использовать `400`.
* `500 - 599` предназначены для ошибок сервера. Вы почти никогда не используете их напрямую. Когда что-то идет не так в вашем приложении или на сервере, автоматически возвращается один из этих кодов состояния.

/// tip | Подсказка

Чтобы узнать больше о каждом коде состояния и их значении, ознакомьтесь с <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Status" class="external-link" target="_blank"><abbr title="Mozilla Developer Network">документацией MDN о HTTP кодах состояния</a>.

///

## Удобные сокращения для запоминания названий

Давайте еще раз рассмотрим предыдущий пример:

{* ../../docs_src/response_status_code/tutorial001.py hl[6] *}

`201` — это код состояния для "Создано".

Но вам не обязательно запоминать значение каждого из этих кодов.

Вы можете использовать удобные переменные из `fastapi.status`.

{* ../../docs_src/response_status_code/tutorial002.py hl[1,6] *}

Они являются просто удобством, они содержат те же числа, но позволяют использовать автодополнение редактора для их выбора:

<img src="/img/tutorial/response-status-code/image02.png">

/// note | Технические детали

Вы также можете использовать `from starlette import status`.

**FastAPI** предоставляет `starlette.status` так же, как `fastapi.status` исключительно для удобства разработчиков. Но `fastapi.status` поставляется непосредственно из Starlette.

///

## Изменение значения по умолчанию

Позже, в [Руководстве для продвинутых пользователей](../advanced/response-change-status-code.md){.internal-link target=_blank}, вы узнаете, как возвращать другой код состояния, отличный от объявленного здесь по умолчанию.
