# Статус-код ответа

Так же, как вы можете указать модель ответа, вы также можете задать HTTP статус-код, используемый для ответа, с помощью параметра `status_code` в любой из *операций пути*:

* `@app.get()`
* `@app.post()`
* `@app.put()`
* `@app.delete()`
* и т.д.

{* ../../docs_src/response_status_code/tutorial001.py hl[6] *}

/// note | Примечание

Обратите внимание, что `status_code` является параметром метода-декоратора (`get`, `post` и т.д.), а не вашей *функции-обработчика пути*, как все остальные параметры и тело.

///

Параметр `status_code` принимает число, обозначающее HTTP статус-код.

/// info | Информация

В качестве значения параметра `status_code` может также использоваться `IntEnum`, например, из библиотеки Python <a href="https://docs.python.org/3/library/http.html#http.HTTPStatus" class="external-link" target="_blank">`http.HTTPStatus`</a>.

///

Это позволит:

* Возвращать указанный код статуса в ответе.
* Документировать его как таковой в OpenAPI схеме (а значит, и в пользовательском интерфейсе):

<img src="/img/tutorial/response-status-code/image01.png">

/// note | Примечание

Некоторые коды ответа (см. следующий раздел) указывают, что ответа с телом не будет.

FastAPI знает об этом и создаст документацию OpenAPI, которая укажет, что тело ответа отсутствует.

///

## Об HTTP статус-кодах

/// note | Примечание

Если вы уже знаете, что такое HTTP статус-коды, можете пропустить этот раздел.

///

В HTTP вы отправляете числовой код состояния из 3 цифр как часть ответа.

У этих кодов статуса есть связанные с ними названия для их распознавания, но важна именно числовая часть.

Кратко о значениях:

* `100 - 199` — это информационные коды. Вы редко используете их напрямую. Ответы с этими кодами не должны содержать тело.
* **`200 - 299`** — это успешные ответы. Эти вы будете использовать чаще всего.
    * `200` — это код по умолчанию, который означает, что все прошло "OK".
    * Другой пример — `201`, "Created". Он часто используется после создания новой записи в базе данных.
    * Особый случай — `204`, "No Content". Этот ответ используется, когда нет содержимого для возврата клиенту, и поэтому тело отсутствует.
* **`300 - 399`** — это коды перенаправлений. Ответы с этими кодами статуса могут, а могут и не иметь тело, за исключением `304`, "Not Modified", у которого его не должно быть.
* **`400 - 499`** — это ошибки клиента. Это вторая группа, которую вы, вероятно, будете использовать чаще всего.
    * Пример — `404`, для ответа "Not Found".
    * Для общих ошибок клиента можно использовать просто `400`.
* `500 - 599` — это ошибки сервера. Вы почти никогда не используете их напрямую. Когда что-то идет не так в коде вашего приложения или на сервере, он автоматически возвращает один из этих кодов.

/// tip | Совет

Чтобы узнать больше о каждом статус-коде и для чего он предназначен, ознакомьтесь с <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Status" class="external-link" target="_blank">документацией <abbr title="Mozilla Developer Network">MDN</abbr> об HTTP кодах статуса</a>.

///

## Удобные сокращения для запоминания названий

Давайте еще раз рассмотрим предыдущий пример:

{* ../../docs_src/response_status_code/tutorial001.py hl[6] *}

`201` — это код статуса "Создано".

Но вам не обязательно запоминать значение каждого из этих кодов.

Вы можете использовать удобные переменные из `fastapi.status`.

{* ../../docs_src/response_status_code/tutorial002.py hl[1,6] *}

Они содержат те же числовые значения, но позволяют использовать авто-завершение редактора для выбора кода статуса:

<img src="/img/tutorial/response-status-code/image02.png">

/// note | Технические детали

Вы также можете использовать `from starlette import status`.

**FastAPI** предоставляет `starlette.status` как `fastapi.status` исключительно для удобства разработчиков. Однако он поставляется непосредственно из Starlette.

///

## Изменение кода по умолчанию

Позже, в [Руководстве для продвинутых пользователей](../advanced/response-change-status-code.md){.internal-link target=_blank}, вы узнаете, как возвращать HTTP код статуса, отличный от используемого здесь кода по умолчанию.
