# Использование объекта Request напрямую

До сих пор вы объявляли части запроса, которые вам нужны, с указанием их типов.

Получение данных из:

* Параметров пути.
* Заголовков.
* Куки.
* и т.д.

И при этом **FastAPI** проверяет эти данные, конвертирует их и автоматически генерирует документацию для вашего API.

Но бывают ситуации, когда может понадобиться доступ к объекту `Request` напрямую.

## Подробности об объекте `Request`

Так как **FastAPI** на самом деле является **Starlette** под капотом, с рядом различных инструментов поверх, вы можете использовать объект <a href="https://www.starlette.io/requests/" class="external-link" target="_blank">`Request`</a> от Starlette напрямую, когда это необходимо.

Это также означает, что если вы получаете данные из объекта `Request` напрямую (например, читаете тело запроса), они не будут проверены, конвертированы или задокументированы (с помощью OpenAPI, для автоматического интерфейса пользователя API) FastAPI.

Хотя любой другой параметр, объявленный обычным образом (например, тело с моделью Pydantic), будет проверяться, конвертироваться, аннотироваться и так далее.

Но есть конкретные случаи, когда полезно получить объект `Request`.

## Используйте объект `Request` напрямую

Представьте, что вы хотите получить IP-адрес/хост клиента внутри вашей *функции операции пути*.

Для этого вам нужно получить доступ к запросу напрямую.

{* ../../docs_src/using_request_directly/tutorial001.py hl[1,7:8] *}

Объявив параметр *функции операции пути* с типом `Request`, **FastAPI** поймет, что нужно передать `Request` в этот параметр.

/// tip | Совет

Обратите внимание, что в этом случае мы объявляем параметр пути рядом с параметром запроса.

Таким образом, параметр пути будет извлечен, проверен, преобразован в указанный тип и аннотирован с OpenAPI.

Аналогично, вы можете объявить любой другой параметр обычным образом, и дополнительно получить объект `Request` тоже.

///

## Документация `Request`

Вы можете прочитать больше подробностей об <a href="https://www.starlette.io/requests/" class="external-link" target="_blank">объекте `Request` на официальном сайте документации Starlette</a>.

/// note | Технические подробности

Вы также можете использовать `from starlette.requests import Request`.

**FastAPI** предоставляет это напрямую просто как удобство для вас, разработчика. Но оно поступает напрямую от Starlette.

///
