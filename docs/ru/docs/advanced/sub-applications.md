# Подприложения - Монтирование

Если вам нужно иметь два независимых приложения FastAPI, каждое со своей независимой OpenAPI и собственным интерфейсом документации, вы можете создать основное приложение и "монтировать" одно (или несколько) подпрограмм.

## Монтирование приложения **FastAPI**

"Монтирование" означает добавление полностью "независимого" приложения в определенный путь, которое будет обрабатывать все запросы, поступающие по этому пути, с _operations path_, объявленными в этом подприложении.

### Приложение верхнего уровня

Сначала создайте главное приложение верхнего уровня **FastAPI** и его *operations path*:

{* ../../docs_src/sub_applications/tutorial001.py hl[3, 6:8] *}

### Подприложение

Затем создайте свое подприложение и его *operations path*.

Это подприложение является просто еще одним стандартным приложением FastAPI, но именно оно будет "смонтировано":

{* ../../docs_src/sub_applications/tutorial001.py hl[11, 14:16] *}

### Монтирование подприложения

В вашем приложении верхнего уровня `app` смонтируйте подприложение `subapi`.

В этом случае оно будет смонтировано по пути `/subapi`:

{* ../../docs_src/sub_applications/tutorial001.py hl[11, 19] *}

### Проверка автоматической документации API

Теперь выполните команду `fastapi` с вашим файлом:

<div class="termy">

```console
$ fastapi dev main.py

<span style="color: green;">INFO</span>:     Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
```

</div>

И откройте документацию по адресу <a href="http://127.0.0.1:8000/docs" class="external-link" target="_blank">http://127.0.0.1:8000/docs</a>.

Вы увидите автоматическую документацию API для основного приложения, содержащую только его _operations path_:

<img src="/img/tutorial/sub-applications/image01.png">

Затем откройте документацию для подприложения по адресу <a href="http://127.0.0.1:8000/subapi/docs" class="external-link" target="_blank">http://127.0.0.1:8000/subapi/docs</a>.

Вы увидите автоматическую документацию API для подприложения, содержащую только его _operations path_, все с правильным префиксом подпути `/subapi`:

<img src="/img/tutorial/sub-applications/image02.png">

Если вы попробуете взаимодействовать с любым из этих двух пользовательских интерфейсов, они будут работать корректно, потому что браузер сможет общаться с каждым определенным приложением или подприложением.

### Технические детали: `root_path`

Когда вы монтируете подприложение, как описано выше, FastAPI позаботится о передаче пути монтирования для подприложения с использованием механизма из спецификации ASGI, называемого `root_path`.

Таким образом, подприложение будет знать об использовании этого префикса пути для интерфейса документации.

И подприложение также может иметь свои собственные смонтированные подприложения и все будет работать корректно, так как FastAPI автоматически обрабатывает все эти `root_path`.

Вы узнаете больше о `root_path` и о том, как использовать его явно, в разделе о [работе за прокси](behind-a-proxy.md){.internal-link target=_blank}.
